<!-- Simple helloComponent -->
<script type="text/javascript">
	var helloWorlCount = 0;
	
	snow.ui.registerTransition("wipe",function(ctx){
		var $new = ctx.$element;
		
		var $parent = $(ctx.parent);
		var $old = $parent.children();
		
		//if we have already some elements, then, do the animation
		if ($old.length > 0) {
			$old.animate({
				left: "300px",
				opacity: "0"
			}, 500, function(){
				$old.remove();
				
			});
		}
		//$old.remove();
		
		$new.css({
			left: "-200px"
		});
		$parent.append($new);
		$new.animate({
			left: "0px"
		})
		
		
				
	});
	
	// Important: make sure the component name match the file name
	snow.ui.registerComponent("helloComponent",{
		
		//This is the default 
		ctx: {
			  // Tell where to add the output of build(ctx) 
			  parent: "#HelloWorld-Container",
			  // Tell to empty the parent before adding the output of build(ctx)
			  transition: "wipe"
		     },
		
		// Build teh 
		build: function(ctx){
			helloWorlCount++;
			var $e = $("#tmplHelloContent").tmpl({name:"John",count:helloWorlCount});
			return $e;
		},
		
		// The postDisplay will be called after the display, 
		// and the ctx has been agumented with ctx.$element will be the object returned by the "build'
		postDisplay: function(ctx){
			ctx.$element.click(function(){
				alert("You clicked on " + $(this).html());
			});
		}
	});

</script>
<!--  /Simple helloComponent -->

<!-- templates for the hello component -->
<script id="tmplHelloContent" type="text/html">
<div style='position:absolute'>Hello... ${name} (${count})</div>
</script>
